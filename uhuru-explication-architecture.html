<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>UHURU v2 ‚Äî Architecture Enterprise Compl√®te</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&family=Syne:wght@400;600;700;800&family=Dm+Sans:wght@300;400;500;600&display=swap');

:root {
  --bg: #060a14;
  --bg1: #0c1220;
  --bg2: #111a2e;
  --bg3: #162236;
  --accent: #00e5ff;
  --accent-d: #00b8d0;
  --purple: #a78bfa;
  --green: #34d399;
  --amber: #fbbf24;
  --red: #f87171;
  --pink: #f472b6;
  --orange: #fb923c;
  --sky: #38bdf8;
  --text: #cbd5e1;
  --text-hi: #f1f5f9;
  --text-lo: #475569;
  --border: #1e2d4a;
  --border-hi: #2a3f6a;
}

*{margin:0;padding:0;box-sizing:border-box}
html{scroll-behavior:smooth}
body{font-family:'Dm Sans',sans-serif;background:var(--bg);color:var(--text);line-height:1.65;overflow-x:hidden}

/* ‚îÄ‚îÄ‚îÄ‚îÄ GRID NOISE OVERLAY ‚îÄ‚îÄ‚îÄ‚îÄ */
body::before{
  content:'';position:fixed;inset:0;
  background-image:url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg stroke='%232a3f6a' stroke-width='0.4'%3E%3Cpath d='M60 0v60H0V0h60zm-1 1H1v58h58V1z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
  opacity:.15;pointer-events:none;z-index:0;
}

/* ‚îÄ‚îÄ‚îÄ‚îÄ HERO ‚îÄ‚îÄ‚îÄ‚îÄ */
.hero{
  position:relative;z-index:1;
  padding:90px 32px 70px;text-align:center;
  background:linear-gradient(180deg,#0a1628 0%,var(--bg) 100%);
  overflow:hidden;
}
.hero::after{
  content:'';position:absolute;
  top:-100px;left:50%;transform:translateX(-50%);
  width:900px;height:600px;
  background:radial-gradient(ellipse,rgba(0,229,255,.07) 0%,transparent 65%);
  pointer-events:none;
}
.hero-badge{
  display:inline-flex;align-items:center;gap:8px;
  border:1px solid rgba(0,229,255,.25);
  color:var(--accent);font-family:'JetBrains Mono',monospace;
  font-size:10px;letter-spacing:2.5px;text-transform:uppercase;
  padding:6px 18px;border-radius:30px;margin-bottom:28px;
  background:rgba(0,229,255,.05);
  position:relative;z-index:1;
}
.hero-badge .dot{width:6px;height:6px;border-radius:50%;background:var(--green);box-shadow:0 0 6px var(--green);animation:p 2s infinite}
@keyframes p{0%,100%{opacity:1}50%{opacity:.2}}

.hero h1{
  font-family:'Syne',sans-serif;font-size:72px;font-weight:800;
  letter-spacing:-4px;line-height:1;
  background:linear-gradient(135deg,#00e5ff 0%,#a78bfa 40%,#f472b6 70%,#00e5ff 100%);
  background-size:200% 200%;
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
  animation:grad 6s ease infinite;
  position:relative;z-index:1;margin-bottom:10px;
}
@keyframes grad{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}

.hero-sub{font-size:14px;color:var(--text-lo);font-weight:300;max-width:680px;margin:0 auto;position:relative;z-index:1;line-height:1.8}
.hero-tags{display:flex;justify-content:center;gap:10px;flex-wrap:wrap;margin-top:28px;position:relative;z-index:1}
.htag{font-family:'JetBrains Mono',monospace;font-size:10px;padding:5px 12px;border-radius:20px;border:1px solid var(--border-hi);color:var(--text-lo);background:rgba(255,255,255,.02)}
.htag span{margin-right:5px}

/* ‚îÄ‚îÄ‚îÄ‚îÄ CONTAINER ‚îÄ‚îÄ‚îÄ‚îÄ */
.wrap{max-width:1280px;margin:0 auto;padding:0 36px 100px;position:relative;z-index:1}

/* ‚îÄ‚îÄ‚îÄ‚îÄ SECTION HEADER ‚îÄ‚îÄ‚îÄ‚îÄ */
.sh{display:flex;align-items:center;gap:14px;margin:64px 0 24px}
.sh:first-child{margin-top:0}
.sh-n{font-family:'JetBrains Mono',monospace;font-size:10px;color:var(--accent);background:rgba(0,229,255,.08);border:1px solid rgba(0,229,255,.18);padding:3px 10px;border-radius:4px}
.sh h2{font-family:'Syne',sans-serif;font-size:24px;font-weight:700;color:var(--text-hi)}
.sh-line{flex:1;height:1px;background:linear-gradient(90deg,var(--border),transparent)}
.sh-sub{font-size:12px;color:var(--text-lo);margin-top:-16px;margin-bottom:24px;padding-left:58px}

/* ‚îÄ‚îÄ‚îÄ‚îÄ CARDS ‚îÄ‚îÄ‚îÄ‚îÄ */
.g2{display:grid;grid-template-columns:1fr 1fr;gap:16px}
.g3{display:grid;grid-template-columns:1fr 1fr 1fr;gap:16px}
.g4{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;gap:14px}
.g6{display:grid;grid-template-columns:repeat(6,1fr);gap:12px}

.card{
  background:var(--bg1);border:1px solid var(--border);border-radius:10px;
  padding:22px;position:relative;transition:border-color .3s,transform .2s;
}
.card:hover{border-color:var(--border-hi);transform:translateY(-2px)}
.card-top{position:absolute;top:0;left:20px;right:20px;height:2px;border-radius:0 0 2px 2px}
.ci{width:38px;height:38px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:18px;margin-bottom:12px}
.card h3{font-family:'Syne',sans-serif;font-size:14px;font-weight:700;color:var(--text-hi);margin-bottom:6px}
.card p{font-size:12px;color:var(--text-lo);line-height:1.7}
.card .t{display:inline-block;margin-top:10px;font-family:'JetBrains Mono',monospace;font-size:9px;padding:2px 7px;border-radius:3px;background:rgba(0,0,0,.4);color:var(--text-lo)}

/* ‚îÄ‚îÄ‚îÄ‚îÄ PANEL ‚îÄ‚îÄ‚îÄ‚îÄ */
.panel{background:var(--bg1);border:1px solid var(--border);border-radius:12px;overflow:hidden;margin-bottom:16px}
.panel-hd{padding:14px 22px;border-bottom:1px solid var(--border);display:flex;align-items:center;gap:10px;background:var(--bg2)}
.panel-hd h4{font-family:'Syne',sans-serif;font-size:14px;font-weight:700;color:var(--text-hi)}
.panel-hd .ico{font-size:16px}
.panel-bd{padding:22px}

/* ‚îÄ‚îÄ‚îÄ‚îÄ FLOW STEPS ‚îÄ‚îÄ‚îÄ‚îÄ */
.steps{display:flex;flex-direction:column;gap:0}
.step{display:flex;gap:14px;align-items:flex-start}
.sn{width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-family:'JetBrains Mono',monospace;font-size:10px;font-weight:600;flex-shrink:0;color:var(--bg)}
.sc{padding-bottom:18px;border-left:1px solid var(--border);margin-left:-8px;padding-left:18px}
.sc:last-child{border-left:none;padding-bottom:0}
.st{font-size:12px;font-weight:600;color:var(--text-hi);margin-bottom:3px}
.sd{font-size:11.5px;color:var(--text-lo);line-height:1.65}

/* ‚îÄ‚îÄ‚îÄ‚îÄ CODE BLOCKS ‚îÄ‚îÄ‚îÄ‚îÄ */
.code{
  background:rgba(0,0,0,.5);border:1px solid var(--border);border-radius:8px;
  padding:14px 16px;font-family:'JetBrains Mono',monospace;font-size:10.5px;
  line-height:1.85;overflow-x:auto;white-space:pre;margin-top:10px;
  position:relative;
}
.code-label{
  position:absolute;top:8px;right:12px;font-size:9px;color:var(--text-lo);
  background:rgba(0,0,0,.4);padding:2px 6px;border-radius:3px;letter-spacing:1px;
}
.k{color:#7dd3fc}.s{color:#86efac}.v{color:var(--accent)}.c{color:var(--text-lo);font-style:italic}
.n{color:var(--amber)}.r{color:var(--pink)}.o{color:var(--orange)}

/* ‚îÄ‚îÄ‚îÄ‚îÄ TABLE ‚îÄ‚îÄ‚îÄ‚îÄ */
.tbl{width:100%;border-collapse:collapse;font-size:12px}
.tbl th{text-align:left;padding:9px 14px;background:var(--bg2);color:var(--text-lo);font-size:9.5px;font-weight:600;letter-spacing:1px;text-transform:uppercase;border-bottom:1px solid var(--border)}
.tbl td{padding:10px 14px;border-bottom:1px solid rgba(30,45,74,.4);vertical-align:top}
.tbl tr:last-child td{border-bottom:none}
.tn{font-family:'JetBrains Mono',monospace;font-size:10.5px;color:var(--accent);font-weight:500}
.td{color:var(--text-lo);font-size:11.5px}
.tt{color:var(--green);font-family:'JetBrains Mono',monospace;font-size:10px}
.badge{display:inline-block;font-family:'JetBrains Mono',monospace;font-size:9px;padding:2px 7px;border-radius:3px;margin-right:3px}
.b-c{background:rgba(0,229,255,.1);color:var(--accent)}
.b-p{background:rgba(167,139,250,.1);color:var(--purple)}
.b-g{background:rgba(52,211,153,.1);color:var(--green)}
.b-a{background:rgba(251,191,36,.1);color:var(--amber)}
.b-r{background:rgba(248,113,113,.1);color:var(--red)}
.b-pk{background:rgba(244,114,182,.1);color:var(--pink)}
.b-o{background:rgba(251,146,60,.1);color:var(--orange)}
.b-sk{background:rgba(56,189,248,.1);color:var(--sky)}

/* ‚îÄ‚îÄ‚îÄ‚îÄ ARCHITECTURE VISUAL ‚îÄ‚îÄ‚îÄ‚îÄ */
.arch{background:var(--bg1);border:1px solid var(--border);border-radius:14px;padding:28px;position:relative;overflow:hidden}
.arch::before{content:'';position:absolute;inset:0;background:radial-gradient(ellipse at 15% 85%,rgba(167,139,250,.04) 0%,transparent 50%),radial-gradient(ellipse at 85% 15%,rgba(0,229,255,.04) 0%,transparent 50%);pointer-events:none}

.layer{position:relative;z-index:1;margin-bottom:6px}
.ll{font-family:'JetBrains Mono',monospace;font-size:9px;letter-spacing:2px;text-transform:uppercase;color:var(--text-lo);margin-bottom:8px;display:flex;align-items:center;gap:7px}
.ll::before{content:'';display:inline-block;width:5px;height:5px;border-radius:50%}
.l1 .ll::before{background:var(--accent);box-shadow:0 0 4px var(--accent)}
.l2 .ll::before{background:var(--amber);box-shadow:0 0 4px var(--amber)}
.l3 .ll::before{background:var(--purple);box-shadow:0 0 4px var(--purple)}
.l4 .ll::before{background:var(--pink);box-shadow:0 0 4px var(--pink)}
.l5 .ll::before{background:var(--green);box-shadow:0 0 4px var(--green)}
.l6 .ll::before{background:var(--red);box-shadow:0 0 4px var(--red)}
.l7 .ll::before{background:var(--sky);box-shadow:0 0 4px var(--sky)}
.l8 .ll::before{background:var(--orange);box-shadow:0 0 4px var(--orange)}

.lr{display:flex;gap:8px;flex-wrap:wrap;align-items:stretch}
.nd{border-radius:7px;padding:10px 14px;font-size:11px;font-weight:500;text-align:center;min-width:95px;position:relative;transition:transform .2s}
.nd:hover{transform:translateY(-1px)}
.nd-sub{font-family:'JetBrains Mono',monospace;font-size:8.5px;opacity:.55;margin-top:2px}
.n-c{background:rgba(0,229,255,.08);border:1px solid rgba(0,229,255,.2);color:var(--accent)}
.n-g{background:rgba(251,191,36,.08);border:1px solid rgba(251,191,36,.2);color:var(--amber)}
.n-s{background:rgba(167,139,250,.08);border:1px solid rgba(167,139,250,.2);color:var(--purple)}
.n-b{background:rgba(244,114,182,.08);border:1px solid rgba(244,114,182,.2);color:var(--pink)}
.n-d{background:rgba(52,211,153,.08);border:1px solid rgba(52,211,153,.2);color:var(--green)}
.n-r{background:rgba(248,113,113,.08);border:1px solid rgba(248,113,113,.2);color:var(--red)}
.n-i{background:rgba(100,120,150,.1);border:1px solid rgba(100,120,150,.22);color:var(--text-lo)}
.n-sk{background:rgba(56,189,248,.08);border:1px solid rgba(56,189,248,.2);color:var(--sky)}
.n-o{background:rgba(251,146,60,.08);border:1px solid rgba(251,146,60,.2);color:var(--orange)}

.arrow{display:flex;justify-content:center;align-items:center;padding:5px 0;gap:12px;font-size:10px;color:var(--text-lo);font-family:'JetBrains Mono',monospace}
.arrow .a{color:var(--border-hi);font-size:14px;letter-spacing:6px}
.arrow .al{font-size:9px;letter-spacing:.5px}

/* ‚îÄ‚îÄ‚îÄ‚îÄ DO BANNER ‚îÄ‚îÄ‚îÄ‚îÄ */
.do-ban{background:linear-gradient(135deg,#0068a0,#003366);border-radius:12px;padding:28px 32px;display:flex;align-items:center;justify-content:space-between;gap:24px;flex-wrap:wrap}
.do-ban h3{font-family:'Syne',sans-serif;font-size:18px;font-weight:700;color:#fff}
.do-ban p{font-size:12px;color:rgba(255,255,255,.6);margin-top:3px}
.do-specs{display:flex;gap:28px;flex-wrap:wrap}
.do-s{text-align:center}
.do-s .v{font-family:'Syne',sans-serif;font-size:20px;font-weight:800;color:#fff}
.do-s .l{font-size:9px;color:rgba(255,255,255,.45);text-transform:uppercase;letter-spacing:1px}

/* ‚îÄ‚îÄ‚îÄ‚îÄ SECURITY MATRIX ‚îÄ‚îÄ‚îÄ‚îÄ */
.sec-matrix{display:grid;grid-template-columns:repeat(4,1fr);gap:12px}
.sec-item{background:var(--bg1);border:1px solid var(--border);border-radius:9px;padding:18px}
.sec-item .si{font-size:22px;margin-bottom:8px}
.sec-item h5{font-family:'Syne',sans-serif;font-size:13px;font-weight:700;color:var(--text-hi);margin-bottom:5px}
.sec-item p{font-size:11px;color:var(--text-lo);line-height:1.6}
.sec-item .sec-badge{display:inline-block;margin-top:8px}

/* ‚îÄ‚îÄ‚îÄ‚îÄ NETWORK TOPO ‚îÄ‚îÄ‚îÄ‚îÄ */
.topo{display:grid;grid-template-columns:1fr 220px 1fr;gap:0;align-items:center}
.topo-box{background:var(--bg2);border:1px solid var(--border);border-radius:8px;padding:14px}
.topo-box h5{font-family:'Syne',sans-serif;font-size:12px;font-weight:700;color:var(--text-hi);margin-bottom:5px;text-align:center}
.topo-box p{font-size:10.5px;color:var(--text-lo);text-align:center}
.topo-mid{text-align:center;font-family:'JetBrains Mono',monospace;font-size:9px;color:var(--text-lo)}
.topo-mid .ar{color:var(--accent);font-size:16px;display:block}

/* ‚îÄ‚îÄ‚îÄ‚îÄ MONITOR ‚îÄ‚îÄ‚îÄ‚îÄ */
.mon-row{display:grid;grid-template-columns:repeat(5,1fr);gap:12px}
.mon-card{background:var(--bg1);border:1px solid var(--border);border-radius:9px;padding:18px;text-align:center}
.mon-card .mv{font-family:'Syne',sans-serif;font-size:24px;font-weight:800;margin-bottom:3px}
.mon-card .ml{font-size:9.5px;color:var(--text-lo);text-transform:uppercase;letter-spacing:.8px}

/* ‚îÄ‚îÄ‚îÄ‚îÄ DIVIDER ‚îÄ‚îÄ‚îÄ‚îÄ */
.div{height:1px;background:linear-gradient(90deg,transparent,var(--border),transparent);margin:40px 0 12px}

/* ‚îÄ‚îÄ‚îÄ‚îÄ RESPONSIVE ‚îÄ‚îÄ‚îÄ‚îÄ */
@media(max-width:960px){.g2,.g3,.g4,.g6,.sec-matrix,.topo,.mon-row{grid-template-columns:1fr}.do-ban{flex-direction:column;text-align:center}.hero h1{font-size:42px}}
@media(max-width:600px){.wrap{padding:0 16px 60px}.hero{padding:60px 16px 40px}}

/* ‚îÄ‚îÄ‚îÄ‚îÄ TOOLTIP HOVER ‚îÄ‚îÄ‚îÄ‚îÄ */
.tip{position:relative;cursor:help;border-bottom:1px dotted var(--text-lo)}
.tip:hover::after{content:attr(data-tip);position:absolute;bottom:calc(100% + 6px);left:50%;transform:translateX(-50%);background:var(--bg2);border:1px solid var(--border-hi);color:var(--text);font-size:10px;padding:5px 10px;border-radius:5px;white-space:nowrap;z-index:10;font-family:'JetBrains Mono',monospace;pointer-events:none}

/* ‚îÄ‚îÄ‚îÄ‚îÄ THREAT MODEL ‚îÄ‚îÄ‚îÄ‚îÄ */
.threat-row{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
.threat{font-family:'JetBrains Mono',monospace;font-size:9px;padding:3px 8px;border-radius:4px;background:rgba(248,113,113,.08);border:1px solid rgba(248,113,113,.18);color:var(--red)}

/* ‚îÄ‚îÄ‚îÄ‚îÄ SCROLL FADE ‚îÄ‚îÄ‚îÄ‚îÄ */
.fade-in{opacity:0;transform:translateY(14px);transition:opacity .5s,transform .5s}
.fade-in.visible{opacity:1;transform:translateY(0)}

/* ‚îÄ‚îÄ‚îÄ‚îÄ EXPLANATION BOXES ‚îÄ‚îÄ‚îÄ‚îÄ */
.explanation{background:rgba(0,229,255,.03);border-left:3px solid var(--accent);padding:16px 20px;margin:20px 0;border-radius:0 8px 8px 0}
.explanation h5{color:var(--accent);font-size:13px;margin-bottom:8px}
.explanation p{font-size:12px;color:var(--text-lo);line-height:1.7}

/* ‚îÄ‚îÄ‚îÄ‚îÄ DIAGRAM FLOW ‚îÄ‚îÄ‚îÄ‚îÄ */
.flow-diagram{display:flex;flex-direction:column;gap:12px;margin:20px 0}
.flow-step{display:flex;align-items:center;gap:12px}
.flow-number{width:28px;height:28px;border-radius:50%;background:var(--bg2);border:1px solid var(--border);display:flex;align-items:center;justify-content:center;font-family:'JetBrains Mono',monospace;font-size:11px;flex-shrink:0}
.flow-content{flex:1}
.flow-arrow{text-align:center;color:var(--text-lo);font-size:12px;padding:5px 0}

</style>
</head>
<body>

<!-- ‚ïê‚ïê‚ïê HERO ‚ïê‚ïê‚ïê -->
<div class="hero">
  <div class="hero-badge"><div class="dot"></div> Architecture Enterprise ‚Äî v2 ‚Äî Zero Trust</div>
  <h1>UHURU v2</h1>
  <p class="hero-sub">Architecture compl√®te d'une application de messagerie temps r√©el s√©curis√©e. 4 microservices principaux, WebSocket scalable, chiffrement E2E Signal Protocol, infrastructure Zero Trust sur DigitalOcean VPC.</p>
  <div class="hero-tags">
    <div class="htag"><span style="color:var(--accent)">‚óè</span> FastAPI Microservices</div>
    <div class="htag"><span style="color:var(--pink)">‚óè</span> WebSocket Enterprise</div>
    <div class="htag"><span style="color:var(--red)">‚óè</span> Signal Protocol E2E</div>
    <div class="htag"><span style="color:var(--green)">‚óè</span> Apache Kafka</div>
    <div class="htag"><span style="color:var(--purple)">‚óè</span> Redis Cluster</div>
    <div class="htag"><span style="color:var(--amber)">‚óè</span> MongoDB ReplicaSets</div>
    <div class="htag"><span style="color:var(--sky)">‚óè</span> DigitalOcean VPC</div>
    <div class="htag"><span style="color:var(--orange)">‚óè</span> Flutter Mobile</div>
  </div>
</div>

<div class="wrap">

<!-- ‚ïê‚ïê‚ïê 01. VISION GLOBALE ‚ïê‚ïê‚ïê -->
<div class="sh fade-in"><span class="sh-n">01</span><h2>Vision Globale & Principes d'Architecture</h2><div class="sh-line"></div></div>
<p class="sh-sub">Une architecture microservices orient√©e √©v√©nements avec s√©curit√© Zero Trust et scalabilit√© horizontale.</p>

<div class="g2 fade-in">
  <div class="panel">
    <div class="panel-hd"><span class="ico">üéØ</span><h4>Principes Fondamentaux</h4></div>
    <div class="panel-bd">
      <div class="steps">
        <div class="step">
          <div class="sn" style="background:var(--accent)">1</div>
          <div class="sc">
            <div class="st">Zero Trust Network</div>
            <div class="sd">Aucune confiance implicite. Chaque requ√™te est authentifi√©e et autoris√©e, m√™me √† l'int√©rieur du r√©seau priv√©. mTLS obligatoire entre tous les services.</div>
          </div>
        </div>
        <div class="step">
          <div class="sn" style="background:var(--accent)">2</div>
          <div class="sc">
            <div class="st">Database per Service</div>
            <div class="sd">Chaque microservice poss√®de sa base de donn√©es d√©di√©e. Aucun partage de base de donn√©es entre services. Les donn√©es sont r√©pliqu√©es via des √©v√©nements Kafka.</div>
          </div>
        </div>
        <div class="step">
          <div class="sn" style="background:var(--accent)">3</div>
          <div class="sc">
            <div class="st">Event-Driven Architecture</div>
            <div class="sd">Tous les changements d'√©tat sont publi√©s comme √©v√©nements. D√©couplage complet entre les services. R√©silience et scalabilit√© am√©lior√©es.</div>
          </div>
        </div>
        <div class="step">
          <div class="sn" style="background:var(--accent)">4</div>
          <div class="sc">
            <div class="st">End-to-End Encryption</div>
            <div class="sd">Signal Protocol pour le chiffrement des messages. Le serveur ne voit jamais le contenu en clair. Forward secrecy garantie.</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="panel">
    <div class="panel-hd"><span class="ico">üìä</span><h4>Objectifs Techniques</h4></div>
    <div class="panel-bd">
      <table class="tbl">
        <thead><tr><th>M√©trique</th><th>Objectif</th><th>Justification</th></tr></thead>
        <tbody>
          <tr><td class="tn">Latence WebSocket</td><td class="td">&lt; 50ms P95</td><td class="td">Exp√©rience utilisateur temps r√©el</td></tr>
          <tr><td class="tn">Disponibilit√©</td><td class="td">99.99% SLA</td><td class="td">Service critique de communication</td></tr>
          <tr><td class="tn">Scalabilit√©</td><td class="td">1M+ utilisateurs</td><td class="td">Croissance pr√©vue sur 3 ans</td></tr>
          <tr><td class="tn">RPO/RTO</td><td class="td">RPO=0, RTO&lt;15min</td><td class="td">Pas de perte de donn√©es, r√©cup√©ration rapide</td></tr>
          <tr><td class="tn">Chiffrement</td><td class="td">100% E2E</td><td class="td">Exigences de confidentialit√©</td></tr>
          <tr><td class="tn">Compliance</td><td class="td">GDPR, HIPAA ready</td><td class="td">March√©s internationaux</td></tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê 02. MICROSERVICES D√âTAILL√âS ‚ïê‚ïê‚ïê -->
<div class="sh fade-in"><span class="sh-n">02</span><h2>Microservices Principaux ‚Äî Responsabilit√©s</h2><div class="sh-line"></div></div>
<p class="sh-sub">Chaque service a une responsabilit√© unique et bien d√©finie, communiquant uniquement via API et √©v√©nements.</p>

<div class="g2 fade-in">
  <div class="panel">
    <div class="panel-hd"><span class="ico">üë§</span><h4>User Service ‚Äî Identit√© & Authentification</h4></div>
    <div class="panel-bd">
      <div class="explanation">
        <h5>Responsabilit√©s Principales</h5>
        <p>G√®re tout ce qui concerne l'identit√© des utilisateurs : cr√©ation de compte, authentification, profils, contacts, param√®tres de confidentialit√©, et gestion des sessions.</p>
      </div>
      
      <div class="steps">
        <div class="step">
          <div class="sn" style="background:var(--green)">A</div>
          <div class="sc">
            <div class="st">Authentification Multi-Facteur</div>
            <div class="sd">Support TOTP (Google Authenticator) et SMS. Authentification adaptative bas√©e sur le risque : nouvelle localisation = v√©rification suppl√©mentaire.</div>
          </div>
        </div>
        <div class="step">
          <div class="sn" style="background:var(--green)">B</div>
          <div class="sc">
            <div class="st">Gestion des Sessions</div>
            <div class="sd">JWT avec rotation toutes les 15 minutes. Blacklist des tokens r√©voqu√©s dans Redis. Device fingerprinting pour d√©tecter les appareils non reconnus.</div>
          </div>
        </div>
        <div class="step">
          <div class="sn" style="background:var(--green)">C</div>
          <div class="sc">
            <div class="st">Graphe Social</div>
            <div class="sd">Gestion des contacts, blocages, demandes d'ami. Optimis√© pour les requ√™tes fr√©quentes de v√©rification de relations entre utilisateurs.</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="panel">
    <div class="panel-hd"><span class="ico">üí¨</span><h4>Chat Service ‚Äî Messages & Conversations</h4></div>
    <div class="panel-bd">
      <div class="explanation">
        <h5>Responsabilit√©s Principales</h5>
        <p>G√®re les messages priv√©s entre utilisateurs, le stockage chiffr√©, les m√©tadonn√©es, et l'orchestration du chiffrement E2E via Signal Protocol.</p>
      </div>
      
      <div class="steps">
        <div class="step">
          <div class="sn" style="background:var(--pink)">A</div>
          <div class="sc">
            <div class="st">Signal Protocol Integration</div>
            <div class="sd">G√®re les cl√©s Signal des utilisateurs, orchestre l'√©change de messages chiffr√©s. Le service ne voit jamais le contenu des messages en clair.</div>
          </div>
        </div>
        <div class="step">
          <div class="sn" style="background:var(--pink)">B</div>
          <div class="sc">
            <div class="st">Persistance des Messages</div>
            <div class="sd">Stocke les messages chiffr√©s dans MongoDB avec TTL de 90 jours. Index optimis√©s pour les requ√™tes par conversation et par utilisateur.</div>
          </div>
        </div>
        <div class="step">
          <div class="sn" style="background:var(--pink)">C</div>
          <div class="sc">
            <div class="st">M√©dias & Fichiers</div>
            <div class="sd">G√®re le stockage chiffr√© des m√©dias dans DigitalOcean Spaces. G√©n√©ration de thumbnails c√¥t√© serveur pour les images et vid√©os.</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="panel">
    <div class="panel-hd"><span class="ico">üì¢</span><h4>Channel Service ‚Äî Groupes & Communaut√©s</h4></div>
    <div class="panel-bd">
      <div class="explanation">
        <h5>Responsabilit√©s Principales</h5>
        <p>G√®re les channels (groupes de discussion), les permissions, les r√¥les, la mod√©ration, et les syst√®mes d'invitation.</p>
      </div>
      
      <div class="steps">
        <div class="step">
          <div class="sn" style="background:var(--purple)">A</div>
          <div class="sc">
            <div class="st">RBAC Granulaire</div>
            <div class="sd">Syst√®me de r√¥les et permissions (owner, admin, moderator, member). Permissions configurables par channel pour chaque action possible.</div>
          </div>
        </div>
        <div class="step">
          <div class="sn" style="background:var(--purple)">B</div>
          <div class="sc">
            <div class="st">Mod√©ration Automatique</div>
            <div class="sd">D√©tection automatique de spam, filtrage de contenu, syst√®me de warns et bannissements temporaires. API de mod√©ration pour les administrateurs.</div>
          </div>
        </div>
        <div class="step">
          <div class="sn" style="background:var(--purple)">C</div>
          <div class="sc">
            <div class="st">Syst√®me d'Invitation</div>
            <div class="sd">Liens d'invitation avec expiration et limites d'usage. Codes QR pour rejoindre des channels. V√©rification des membres avant adh√©sion.</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="panel">
    <div class="panel-hd"><span class="ico">üì∏</span><h4>Stories Service ‚Äî Contenu √âph√©m√®re</h4></div>
    <div class="panel-bd">
      <div class="explanation">
        <h5>Responsabilit√©s Principales</h5>
        <p>G√®re les stories (contenu √©ph√©m√®re visible 24 heures) comme dans WhatsApp/Instagram. Upload, distribution, vue, et expiration automatique.</p>
      </div>
      
      <div class="steps">
        <div class="step">
          <div class="sn" style="background:var(--orange)">A</div>
          <div class="sc">
            <div class="st">Upload & Processing</div>
            <div class="sd">Upload de photos/vid√©os avec compression automatique. G√©n√©ration de multiples r√©solutions. Watermarking optionnel pour les stories publiques.</div>
          </div>
        </div>
        <div class="step">
          <div class="sn" style="background:var(--orange)">B</div>
          <div class="sc">
            <div class="st">Distribution Intelligente</div>
            <div class="sd">Algorithme de distribution bas√© sur les interactions. Stories tri√©es par pertinence. Cache Redis pour les stories fr√©quemment consult√©es.</div>
          </div>
        </div>
        <div class="step">
          <div class="sn" style="background:var(--orange)">C</div>
          <div class="sc">
            <div class="st">Expiration & Cleanup</div>
            <div class="sd">Job quotidien qui supprime les stories vieilles de plus de 24h. Archive optionnelle pour les utilisateurs. M√©triques d'engagement.</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê 03. SIGNAL PROTOCOL E2E ‚Äî EXPLICATION D√âTAILL√âE ‚ïê‚ïê‚ïê -->
<div class="sh fade-in"><span class="sh-n">03</span><h2>Signal Protocol ‚Äî Chiffrement End-to-End Complet</h2><div class="sh-line"></div></div>
<p class="sh-sub">Impl√©mentation pas √† pas du Signal Protocol avec explication de chaque composant cryptographique.</p>

<div class="panel fade-in">
  <div class="panel-hd"><span class="ico">üîê</span><h4>Architecture du Signal Protocol</h4></div>
  <div class="panel-bd">
    
    <div class="explanation">
      <h5>Concepts Fondamentaux du Signal Protocol</h5>
      <p>Le Signal Protocol est un protocole cryptographique qui fournit le chiffrement de bout en bout pour la communication en temps r√©el. Il combine plusieurs avanc√©es cryptographiques : l'algorithme Double Ratchet, les PreKeys, et les Signed PreKeys.</p>
    </div>
    
    <div class="flow-diagram">
      <div class="flow-step">
        <div class="flow-number">1</div>
        <div class="flow-content">
          <div class="st">Initialisation des Cl√©s (Registration)</div>
          <div class="sd">√Ä l'inscription, chaque utilisateur g√©n√®re :</div>
          <ul style="font-size:11.5px;color:var(--text-lo);margin-top:5px;padding-left:20px">
            <li><strong>Identity Key Pair</strong> : Cl√© Curve25519 longue dur√©e qui identifie l'utilisateur</li>
            <li><strong>Signed PreKey</strong> : Cl√© sign√©e par l'Identity Key, renouvel√©e p√©riodiquement</li>
            <li><strong>PreKeys Batch</strong> : 100 cl√©s √† usage unique pour l'initialisation des sessions</li>
            <li><strong>Registration ID</strong> : Identifiant unique pour l'appareil</li>
          </ul>
        </div>
      </div>
      
      <div class="flow-arrow">‚Üì Transmission s√©curis√©e au serveur</div>
      
      <div class="flow-step">
        <div class="flow-number">2</div>
        <div class="flow-content">
          <div class="st">√âtablissement de Session (X3DH)</div>
          <div class="sd">Quand Alice veut communiquer avec Bob :</div>
          <ul style="font-size:11.5px;color:var(--text-lo);margin-top:5px;padding-left:20px">
            <li>Alice r√©cup√®re le <strong>PreKey Bundle</strong> de Bob depuis le serveur</li>
            <li>Elle calcule une cl√© de session partag√©e en combinant :
              <ul style="margin-top:3px">
                <li>Sa cl√© d'identit√© + PreKey de Bob</li>
                <li>Sa cl√© √©ph√©m√®re + Cl√© d'identit√© de Bob</li>
                <li>Sa cl√© √©ph√©m√®re + PreKey de Bob</li>
                <li>Sa cl√© √©ph√©m√®re + Signed PreKey de Bob</li>
              </ul>
            </li>
            <li>R√©sultat : une cl√© racine (root key) et une cl√© de cha√Ænage (chain key)</li>
          </ul>
        </div>
      </div>
      
      <div class="flow-arrow">‚Üì Chiffrement du premier message</div>
      
      <div class="flow-step">
        <div class="flow-number">3</div>
        <div class="flow-content">
          <div class="st">Double Ratchet Algorithm</div>
          <div class="sd">Pour chaque message √©chang√© :</div>
          <ul style="font-size:11.5px;color:var(--text-lo);margin-top:5px;padding-left:20px">
            <li><strong>Ratchet Sym√©trique</strong> : √Ä chaque message, d√©rive une nouvelle cl√© de message depuis la chain key</li>
            <li><strong>Ratchet Diffie-Hellman</strong> : Quand une nouvelle cl√© √©ph√©m√®re est re√ßue, effectue un nouveau DH pour obtenir de nouvelles cl√©s racines</li>
            <li>Ce syst√®me garantit la <strong>forward secrecy</strong> (les anciens messages restent s√©curis√©s m√™me si les cl√©s actuelles sont compromises)</li>
            <li>Et la <strong>future secrecy (post-compromise security)</strong> : la s√©curit√© est restaur√©e apr√®s un compromis</li>
          </ul>
        </div>
      </div>
    </div>
    
    <div class="explanation" style="margin-top:20px">
      <h5>R√¥le du Serveur dans l'E2E</h5>
      <p>Le serveur agit comme un "transport opaque" : il voit les m√©tadonn√©es (qui parle √† qui, quand) mais jamais le contenu des messages. Ses responsabilit√©s sont :</p>
      <ul style="font-size:11.5px;color:var(--text-lo);margin-top:5px">
        <li>Stocker et servir les PreKey Bundles des utilisateurs</li>
        <li>Router les messages chiffr√©s entre utilisateurs</li>
        <li>G√©rer la d√©livrabilit√© (retry, notifications push pour les messages manqu√©s)</li>
        <li>Supporter les messages "sender keys" pour les groupes E2E</li>
      </ul>
    </div>
    
    <div class="g2" style="margin-top:20px;gap:12px">
      <div style="background:rgba(0,229,255,.05);padding:16px;border-radius:8px;border:1px solid rgba(0,229,255,.15)">
        <h5 style="color:var(--accent);font-size:13px;margin-bottom:8px">Garanties de S√©curit√©</h5>
        <ul style="font-size:11px;color:var(--text-lo)">
          <li><strong>Confidentialit√©</strong> : Seul le destinataire peut d√©chiffrer</li>
          <li><strong>Int√©grit√©</strong> : Les messages ne peuvent √™tre modifi√©s</li>
          <li><strong>Authenticit√©</strong> : V√©rification de l'exp√©diteur</li>
          <li><strong>Forward Secrecy</strong> : Compromission future ne affecte pas le pass√©</li>
          <li><strong>D√©ni plausible</strong> : Les cl√©s peuvent √™tre ni√©es</li>
        </ul>
      </div>
      
      <div style="background:rgba(167,139,250,.05);padding:16px;border-radius:8px;border:1px solid rgba(167,139,250,.15)">
        <h5 style="color:var(--purple);font-size:13px;margin-bottom:8px">Impl√©mentation Technique</h5>
        <ul style="font-size:11px;color:var(--text-lo)">
          <li><strong>libsignal-protocol</strong> : Biblioth√®que de r√©f√©rence</li>
          <li><strong>Curve25519</strong> : Pour l'√©change de cl√©s</li>
          <li><strong>AES-256-GCM</strong> : Pour le chiffrement sym√©trique</li>
          <li><strong>HMAC-SHA256</strong> : Pour l'authentification</li>
          <li><strong>Secure Enclave</strong> : Stockage des cl√©s sur mobile</li>
        </ul>
      </div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê 04. WEBSOCKET ENTERPRISE ‚Äî ARCHITECTURE ‚ïê‚ïê‚ïê -->
<div class="sh fade-in"><span class="sh-n">04</span><h2>WebSocket Server ‚Äî Architecture Temps R√©el</h2><div class="sh-line"></div></div>
<p class="sh-sub">Gestion de connexions WebSocket massives avec haute disponibilit√©, r√©partition de charge, et r√©silience.</p>

<div class="g2 fade-in">
  <div class="panel">
    <div class="panel-hd"><span class="ico">‚ö°</span><h4>Architecture Multi-Instance</h4></div>
    <div class="panel-bd">
      
      <div class="explanation">
        <h5>Probl√©matique : Scalabilit√© des Connexions WebSocket</h5>
        <p>Les connexions WebSocket sont stateful et consomment des ressources serveur. Pour supporter 100K+ connexions simultan√©es, nous utilisons une architecture horizontale avec Redis comme couche de coordination.</p>
      </div>
      
      <div class="flow-diagram">
        <div class="flow-step">
          <div class="flow-number">1</div>
          <div class="flow-content">
            <div class="st">Load Balancing Intelligent</div>
            <div class="sd">Le load balancer DigitalOcean utilise le sticky sessions bas√© sur le JWT. Cela garantit qu'un utilisateur reste sur le m√™me serveur WebSocket pendant sa session, simplifiant la gestion d'√©tat.</div>
          </div>
        </div>
        
        <div class="flow-arrow">‚Üì Connexion WebSocket √©tablie</div>
        
        <div class="flow-step">
          <div class="flow-number">2</div>
          <div class="flow-content">
            <div class="st">Session Registry dans Redis</div>
            <div class="sd">Chaque serveur WebSocket enregistre ses connexions actives dans Redis Cluster :</div>
            <ul style="font-size:11.5px;color:var(--text-lo);margin-top:5px">
              <li><code>session:{userId}</code> ‚Üí serverId + timestamp</li>
              <li><code>server:{serverId}:connections</code> ‚Üí liste des userIds connect√©s</li>
              <li>TTL de 30 secondes renouvel√© par heartbeat</li>
            </ul>
          </div>
        </div>
        
        <div class="flow-arrow">‚Üì Heartbeat bi-directionnel</div>
        
        <div class="flow-step">
          <div class="flow-number">3</div>
          <div class="flow-content">
            <div class="st">Pub/Sub pour la Distribution de Messages</div>
            <div class="sd">Quand un message arrive pour un utilisateur :</div>
            <ol style="font-size:11.5px;color:var(--text-lo);margin-top:5px">
              <li>Le serveur source publie sur <code>user:{userId}</code> channel Redis</li>
              <li>Tous les serveurs WebSocket √©coutent ce channel</li>
              <li>Le serveur qui a l'utilisateur connect√© lui envoie le message</li>
              <li>Les autres serveurs ignorent le message</li>
            </ol>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="panel">
    <div class="panel-hd"><span class="ico">üîÑ</span><h4>Gestion des D√©connexions & Retry</h4></div>
    <div class="panel-bd">
      
      <div class="explanation">
        <h5>Resilience Face aux Pannes R√©seau</h5>
        <p>Les connexions mobiles sont instables. L'architecture doit g√©rer gracieusement les d√©connexions, les reconnexions, et la r√©cup√©ration des messages manqu√©s.</p>
      </div>
      
      <div class="steps">
        <div class="step">
          <div class="sn" style="background:var(--accent)">A</div>
          <div class="sc">
            <div class="st">D√©tection de D√©connexion</div>
            <div class="sd">Deux m√©canismes en parall√®le :</div>
            <ul style="font-size:11px;color:var(--text-lo);margin-top:5px">
              <li><strong>Heartbeat manquant</strong> : Pas de pong apr√®s 30s ‚Üí d√©connexion</li>
              <li><strong>TCP keep-alive</strong> : D√©tection au niveau OS des connexions mortes</li>
              <li>Cleanup automatique dans Redis et mise √† jour du statut "offline"</li>
            </ul>
          </div>
        </div>
        
        <div class="step">
          <div class="sn" style="background:var(--accent)">B</div>
          <div class="sc">
            <div class="st">Buffer des Messages en Attente</div>
            <div class="sd">Quand un utilisateur est d√©connect√© :</div>
            <ul style="font-size:11px;color:var(--text-lo);margin-top:5px">
              <li>Les messages sont stock√©s dans Redis Streams avec TTL de 7 jours</li>
              <li>Limite de 1000 messages maximum par utilisateur</li>
              <li>Priorisation : messages priv√©s > mentions > messages de groupe</li>
              <li>Compression pour les m√©dias lourds</li>
            </ul>
          </div>
        </div>
        
        <div class="step">
          <div class="sn" style="background:var(--accent)">C</div>
          <div class="sc">
            <div class="st">Reconnexion & Sync</div>
            <div class="sd">√Ä la reconnexion :</div>
            <ol style="font-size:11px;color:var(--text-lo);margin-top:5px">
              <li>Authentification JWT + v√©rification device fingerprint</li>
              <li>R√©cup√©ration des messages manqu√©s depuis Redis Streams</li>
              <li>Sync des derniers √©tats (pr√©sence, statuts de lecture)</li>
              <li>Re-subscription aux channels Pub/Sub pertinents</li>
            </ol>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê 05. APACHE KAFKA ‚Äî BACKBONE √âV√âNEMENTIEL ‚ïê‚ïê‚ïê -->
<div class="sh fade-in"><span class="sh-n">05</span><h2>Apache Kafka ‚Äî Syst√®me de Messagerie √âv√©nementielle</h2><div class="sh-line"></div></div>
<p class="sh-sub">3 brokers en cluster avec replication factor 3, exactly-once semantics, et sch√©mas Avro strictement valid√©s.</p>

<div class="panel fade-in">
  <div class="panel-hd"><span class="ico">üì®</span><h4>Architecture Kafka pour UHURU</h4></div>
  <div class="panel-bd">
    
    <div class="explanation">
      <h5>Pourquoi Kafka est Central dans Notre Architecture</h5>
      <p>Kafka sert de colonne vert√©brale √©v√©nementielle qui d√©couple compl√®tement les microservices. Chaque changement d'√©tat important est publi√© comme √©v√©nement, permettant aux autres services de r√©agir sans couplage direct.</p>
    </div>
    
    <div class="g2" style="margin-top:20px;gap:20px">
      <div>
        <h5 style="color:var(--text-hi);font-size:13px;margin-bottom:10px">Topics par Domaine Fonctionnel</h5>
        <table class="tbl">
          <thead><tr><th>Topic</th><th>Description</th><th>Consumers</th></tr></thead>
          <tbody>
            <tr><td class="tn">user.lifecycle</td><td class="td">Cr√©ation/modification/suppression utilisateur</td><td class="td">Chat, Channel, Stories</td></tr>
            <tr><td class="tn">chat.messages</td><td class="td">Messages priv√©s et statuts de lecture</td><td class="td">Notification, Analytics</td></tr>
            <tr><td class="tn">channel.events</td><td class="td">Membres, messages, modifications</td><td class="td">Chat, User, Search</td></tr>
            <tr><td class="tn">stories.updates</td><td class="td">Cr√©ation/vue/expiration des stories</td><td class="td">Notification, ML</td></tr>
            <tr><td class="tn">presence.changes</td><td class="td">Changements de statut en ligne/hors ligne</td><td class="td">WebSocket, UI</td></tr>
            <tr><td class="tn">audit.trail</td><td class="td">Traces d'audit pour la compliance</td><td class="td">ELK, Compliance</td></tr>
          </tbody>
        </table>
      </div>
      
      <div>
        <h5 style="color:var(--text-hi);font-size:13px;margin-bottom:10px">Garanties de Livraison</h5>
        <div class="steps">
          <div class="step">
            <div class="sn" style="background:var(--green)">1</div>
            <div class="sc">
              <div class="st">Exactly-Once Semantics</div>
              <div class="sd">Configuration sp√©ciale pour √©viter les doublons :</div>
              <ul style="font-size:11px;color:var(--text-lo);margin-top:5px">
                <li><code>enable.idempotence=true</code> dans les producers</li>
                <li>Transactional producers avec commit en deux phases</li>
                <li><code>isolation.level=read_committed</code> dans les consumers</li>
                <li>Client message ID pour l'idempotence applicative</li>
              </ul>
            </div>
          </div>
          
          <div class="step">
            <div class="sn" style="background:var(--green)">2</div>
            <div class="sc">
              <div class="st">Replication & Durabilit√©</div>
              <div class="sd">Chaque message est r√©pliqu√© sur 3 brokers diff√©rents. Confirmation uniquement quand tous les r√©plicas ont persist√© le message. R√©sistant √† la perte de 2 brokers simultan√©ment.</div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="explanation" style="margin-top:20px">
      <h5>Schema Registry & Validation</h5>
      <p>Tous les √©v√©nements Kafka doivent suivre un sch√©ma Avro strictement d√©fini. Le Schema Registry :</p>
      <ul style="font-size:11.5px;color:var(--text-lo);margin-top:5px">
        <li>Valide la compatibilit√© des sch√©mas (forward/backward compatibility)</li>
        <li>Fournit le sch√©ma aux producers/consumers √† la vol√©e</li>
        <li>√âvite les erreurs de s√©rialisation/d√©s√©rialisation</li>
        <li>Permet l'√©volution des sch√©mas sans breaking changes</li>
      </ul>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê 06. REDIS CLUSTER ‚Äî CACHE & PUB/SUB ‚ïê‚ïê‚ïê -->
<div class="sh fade-in"><span class="sh-n">06</span><h2>Redis Cluster ‚Äî Couche de Donn√©es en M√©moire</h2><div class="sh-line"></div></div>
<p class="sh-sub">6 n≈ìuds Redis (3 masters + 3 replicas) avec sharding automatique et failover en moins de 10 secondes.</p>

<div class="g2 fade-in">
  <div class="panel">
    <div class="panel-hd"><span class="ico">üî¥</span><h4>Architecture Redis Cluster</h4></div>
    <div class="panel-bd">
      
      <div class="explanation">
        <h5>Topologie de Sharding</h5>
        <p>Redis Cluster divise l'espace de cl√©s en 16384 slots hash. Chaque n≈ìud master g√®re un sous-ensemble de ces slots. Le hash est calcul√© sur une partie de la cl√© (g√©n√©ralement entre accolades) pour garantir que les donn√©es li√©es soient sur le m√™me shard.</p>
      </div>
      
      <div style="background:var(--bg2);padding:16px;border-radius:8px;margin-top:15px">
        <h5 style="color:var(--text-hi);font-size:13px;margin-bottom:10px">Patterns de Cl√©s par Usage</h5>
        <table class="tbl">
          <thead><tr><th>Usage</th><th>Pattern</th><th>Type</th><th>TTL</th></tr></thead>
          <tbody>
            <tr><td class="tn">Sessions WS</td><td class="td"><code>{user:123}:session</code></td><td class="badge b-c">String</td><td class="tt">30s</td></tr>
            <tr><td class="tn">Cache JWT</td><td class="td"><code>jwt:{sha256(token)}</code></td><td class="badge b-g">String</td><td class="tt">15min</td></tr>
            <tr><td class="tn">Rate Limiting</td><td class="td"><code>rl:{user:123}:api</code></td><td class="badge b-r">Sorted Set</td><td class="tt">60s</td></tr>
            <tr><td class="tn">Messages en Attente</td><td class="td"><code>pending:{user:123}</code></td><td class="badge b-a">Stream</td><td class="tt">7 jours</td></tr>
            <tr><td class="tn">Online Status</td><td class="td"><code>online:{user:123}</code></td><td class="badge b-c">String</td><td class="tt">30s</td></tr>
            <tr><td class="tn">Channel Members</td><td class="td"><code>channel:{456}:members</code></td><td class="badge b-p">Set</td><td class="tt">Permanent</td></tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <div class="panel">
    <div class="panel-hd"><span class="ico">üì°</span><h4>Redis Pub/Sub pour la Communication Temps R√©el</h4></div>
    <div class="panel-bd">
      
      <div class="explanation">
        <h5>Diff√©rence entre Kafka et Redis Pub/Sub</h5>
        <p>Kafka est pour la persistance et le traitement asynchrone. Redis Pub/Sub est pour la diffusion temps r√©el imm√©diate aux clients connect√©s. Les deux sont compl√©mentaires dans notre architecture.</p>
      </div>
      
      <div class="flow-diagram">
        <div class="flow-step">
          <div class="flow-number">1</div>
          <div class="flow-content">
            <div class="st">Publication d'√âv√©nement</div>
            <div class="sd">Quand un √©v√©nement temps r√©el se produit (nouveau message, changement de pr√©sence) :</div>
            <ul style="font-size:11px;color:var(--text-lo);margin-top:5px">
              <li>Le service source publie sur un channel Redis sp√©cifique</li>
              <li>Exemple : <code>user:123:updates</code> pour les updates d'un utilisateur</li>
              <li>Le message contient le payload JSON et des m√©tadonn√©es</li>
            </ul>
          </div>
        </div>
        
        <div class="flow-arrow">‚Üì Diffusion √† tous les subscribers</div>
        
        <div class="flow-step">
          <div class="flow-number">2</div>
          <div class="flow-content">
            <div class="st">R√©ception par les WebSocket Servers</div>
            <div class="sd">Tous les serveurs WebSocket sont abonn√©s aux channels :</div>
            <ul style="font-size:11px;color:var(--text-lo);margin-top:5px">
              <li>Chaque serveur √©coute tous les channels utilisateur</li>
              <li>Quand un message arrive, le serveur v√©rifie si l'utilisateur est connect√© localement</li>
              <li>Si oui, il forwarde via WebSocket</li>
              <li>Si non, il ignore le message</li>
            </ul>
          </div>
        </div>
        
        <div class="flow-arrow">‚Üì Livraison au client</div>
        
        <div class="flow-step">
          <div class="flow-number">3</div>
          <div class="flow-content">
            <div class="st">D√©livrabilit√© et Retry</div>
            <div class="sd">Si le client n'est pas connect√© :</div>
            <ul style="font-size:11px;color:var(--text-lo);margin-top:5px">
              <li>Le message est stock√© dans Redis Streams comme "pending"</li>
              <li>√Ä la reconnexion, les messages en attente sont envoy√©s</li>
              <li>ACK du client pour confirmation de r√©ception</li>
              <li>Nettoyage apr√®s confirmation</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê 07. S√âCURIT√â ZERO TRUST ‚Äî ARCHITECTURE D√âTAILL√âE ‚ïê‚ïê‚ïê -->
<div class="sh fade-in"><span class="sh-n">07</span><h2>S√©curit√© Zero Trust ‚Äî Strat√©gie Compl√®te</h2><div class="sh-line"></div></div>
<p class="sh-sub">Aucune confiance implicite, v√©rification continue, acc√®s minimal, et audit complet.</p>

<div class="g2 fade-in">
  <div class="panel">
    <div class="panel-hd"><span class="ico">üõ°Ô∏è</span><h4>mTLS avec SPIFFE/SPIRE</h4></div>
    <div class="panel-bd">
      
      <div class="explanation">
        <h5>Probl√®me : Comment identifier de mani√®re fiable les microservices ?</h5>
        <p>Dans une architecture Zero Trust, nous ne pouvons pas faire confiance aux adresses IP ou aux noms de r√©seau. Chaque service doit prouver son identit√© de mani√®re cryptographique.</p>
      </div>
      
      <div class="steps">
        <div class="step">
          <div class="sn" style="background:var(--purple)">1</div>
          <div class="sc">
            <div class="st">SPIFFE Identities</div>
            <div class="sd">Chaque microservice re√ßoit une identit√© SPIFFE unique :</div>
            <ul style="font-size:11px;color:var(--text-lo);margin-top:5px">
              <li><code>spiffe://uhuru.io/production/user-service</code></li>
              <li><code>spiffe://uhuru.io/production/chat-service</code></li>
              <li>Cette identit√© est encod√©e dans un certificat X.509 SVID</li>
              <li>Renouvellement automatique toutes les heures</li>
            </ul>
          </div>
        </div>
        
        <div class="step">
          <div class="sn" style="background:var(--purple)">2</div>
          <div class="sc">
            <div class="st">SPIRE Server & Agents</div>
            <div class="sd">Architecture √† deux niveaux :</div>
            <ul style="font-size:11px;color:var(--text-lo);margin-top:5px">
              <li><strong>SPIRE Server</strong> : Autorit√© de certification racine, √©met les SVIDs</li>
              <li><strong>SPIRE Agents</strong> : D√©ploy√©s sur chaque h√¥te, attestent les workloads</li>
              <li><strong>Workload API</strong> : Fournit les SVIDs aux services locaux</li>
              <li>Attestation bas√©e sur les metadata DigitalOcean et les labels Docker</li>
            </ul>
          </div>
        </div>
        
        <div class="step">
          <div class="sn" style="background:var(--purple)">3</div>
          <div class="sc">
            <div class="st">mTLS Handshake</div>
            <div class="sd">Quand un service appelle un autre :</div>
            <ol style="font-size:11px;color:var(--text-lo);margin-top:5px">
              <li>Client pr√©sente son certificat SPIFFE SVID</li>
              <li>Serveur pr√©sente son certificat SPIFFE SVID</li>
              <li>V√©rification mutuelle des certificats</li>
              <li>Extraction de l'identit√© SPIFFE pour l'autorisation</li>
            </ol>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="panel">
    <div class="panel-hd"><span class="ico">üìã</span><h4>Policy-Based Authorization avec OPA</h4></div>
    <div class="panel-bd">
      
      <div class="explanation">
        <h5>D√©cision d'Autorisation Centralis√©e</h5>
        <p>Open Policy Agent (OPA) est un moteur de politiques unifi√©. Toutes les d√©cisions d'autorisation sont d√©l√©gu√©es √† OPA via l'API REST.</p>
      </div>
      
      <div style="background:rgba(52,211,153,.05);padding:16px;border-radius:8px;margin-top:15px">
        <h5 style="color:var(--green);font-size:13px;margin-bottom:10px">Exemple de Politique OPA</h5>
        <div style="font-family:'JetBrains Mono',monospace;font-size:10px;color:var(--text-lo);line-height:1.6">
          # Politique : Qui peut envoyer des messages dans un channel<br>
          allow {<br>
          &nbsp;&nbsp;# L'utilisateur est membre du channel<br>
          &nbsp;&nbsp;input.user.id in data.channels[input.channelId].members<br>
          <br>
          &nbsp;&nbsp;# Le channel n'est pas en mode lecture seule<br>
          &nbsp;&nbsp;not data.channels[input.channelId].readOnly<br>
          <br>
          &nbsp;&nbsp;# L'utilisateur n'est pas banni<br>
          &nbsp;&nbsp;not is_banned(input.user.id, input.channelId)<br>
          <br>
          &nbsp;&nbsp;# Rate limit non d√©pass√©<br>
          &nbsp;&nbsp;not rate_limit_exceeded(input.user.id, "channel_message")<br>
          }
        </div>
      </div>
      
      <div class="steps" style="margin-top:20px">
        <div class="step">
          <div class="sn" style="background:var(--green)">A</div>
          <div class="sc">
            <div class="st">Input √† OPA</div>
            <div class="sd">Pour chaque requ√™te, le service envoie √† OPA :</div>
            <ul style="font-size:11px;color:var(--text-lo);margin-top:5px">
              <li>Identit√© de l'utilisateur (JWT claims)</li>
              <li>Action demand√©e (create, read, update, delete)</li>
              <li>Ressource cible (ID, type, propri√©taire)</li>
              <li>Contexte (heure, IP, device fingerprint)</li>
            </ul>
          </div>
        </div>
        
        <div class="step">
          <div class="sn" style="background:var(--green)">B</div>
          <div class="sc">
            <div class="st">D√©cision & Audit</div>
            <div class="sd">OPA retourne une d√©cision bool√©enne + justification. Toutes les d√©cisions sont logu√©es dans l'audit trail avec :</div>
            <ul style="font-size:11px;color:var(--text-lo);margin-top:5px">
              <li>Timestamp et trace ID</li>
              <li>Identit√© du demandeur</li>
              <li>D√©cision et r√®gles appliqu√©es</li>
              <li>Justification en cas de refus</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê 08. STORIES SERVICE ‚Äî ARCHITECTURE SP√âCIFIQUE ‚ïê‚ïê‚ïê -->
<div class="sh fade-in"><span class="sh-n">08</span><h2>Stories Service ‚Äî Architecture du Contenu √âph√©m√®re</h2><div class="sh-line"></div></div>
<p class="sh-sub">Syst√®me de stories (contenu visible 24h) avec upload s√©curis√©, distribution intelligente, et expiration automatique.</p>

<div class="panel fade-in">
  <div class="panel-hd"><span class="ico">üì∏</span><h4>Cycle de Vie d'une Story</h4></div>
  <div class="panel-bd">
    
    <div class="flow-diagram">
      <div class="flow-step">
        <div class="flow-number">1</div>
        <div class="flow-content">
          <div class="st">Cr√©ation & Upload</div>
          <div class="sd">L'utilisateur s√©lectionne une photo/vid√©o :</div>
          <ul style="font-size:11.5px;color:var(--text-lo);margin-top:5px">
            <li><strong>Client-side processing</strong> : Compression, rotation, ajustement</li>
            <li><strong>Upload chiffr√©</strong> : TLS 1.3 vers DigitalOcean Spaces</li>
            <li><strong>Metadata extraction</strong> : EXIF stripping pour la confidentialit√©</li>
            <li><strong>Thumbnail generation</strong> : Cr√©ation de vignettes multiples</li>
          </ul>
        </div>
      </div>
      
      <div class="flow-arrow">‚Üì Validation et stockage</div>
      
      <div class="flow-step">
        <div class="flow-number">2</div>
        <div class="flow-content">
          <div class="st">Distribution & Visibilit√©</div>
          <div class="sd">La story est disponible pour les audiences s√©lectionn√©es :</div>
          <ul style="font-size:11.5px;color:var(--text-lo);margin-top:5px">
            <li><strong>Audience control</strong> : Tous les contacts, liste personnalis√©e, ou publique</li>
            <li><strong>Geo-fencing</strong> : Restriction par localisation optionnelle</li>
            <li><strong>Expiration configurable</span> : 24h par d√©faut, customisable (6h, 12h, 24h)</li>
            <li><strong>Interaction tracking</strong> : Vues, r√©actions, r√©ponses</li>
          </ul>
        </div>
      </div>
      
      <div class="flow-arrow">‚Üì Affichage dans les clients</div>
      
      <div class="flow-step">
        <div class="flow-number">3</div>
        <div class="flow-content">
          <div class="st">Consommation & Interactions</div>
          <div class="sd">Les amis voient la story dans leur feed :</div>
          <ul style="font-size:11.5px;color:var(--text-lo);margin-top:5px">
            <li><strong>Smart ordering</strong> : Algorithmes de priorisation bas√©s sur l'engagement</li>
            <li><strong>View once</strong> : Option "vue unique" pour les contenus sensibles</li>
            <li><strong>Reactions</strong> : √âmojis, likes, r√©ponses textuelles</li>
            <li><strong>Screenshot detection</strong> : Notification optionnelle si screenshot</li>
          </ul>
        </div>
      </div>
      
      <div class="flow-arrow">‚Üì Expiration automatique</div>
      
      <div class="flow-step">
        <div class="flow-number">4</div>
        <div class="flow-content">
          <div class="st">Expiration & Archive</div>
          <div class="sd">Apr√®s 24 heures (ou dur√©e configur√©e) :</div>
          <ul style="font-size:11.5px;color:var(--text-lo);margin-top:5px">
            <li><strong>Automatic deletion</strong> : Suppression du stockage principal</li>
            <li><strong>User archive</strong> : Option "garder dans mon archive"</li>
            <li><strong>Analytics retention</strong> : Conservation des m√©triques d'engagement 30 jours</li>
            <li><strong>GDPR compliance</strong> : Right to be forgotten support√©</li>
          </ul>
        </div>
      </div>
    </div>
    
    <div class="g2" style="margin-top:20px;gap:20px">
      <div>
        <h5 style="color:var(--text-hi);font-size:13px;margin-bottom:10px">Stockage des Stories</h5>
        <div style="background:var(--bg2);padding:12px;border-radius:6px">
          <ul style="font-size:11px;color:var(--text-lo)">
            <li><strong>DigitalOcean Spaces</strong> : Stockage objet S3-compatible</li>
            <li><strong>Multi-region</strong> : R√©plication automatique EU/US</li>
            <li><strong>CDN int√©gr√©</strong> : Distribution globale via Cloudflare</li>
            <li><strong>Chiffrement au repos</strong> : AES-256 automatique</li>
            <li><strong>Versioning</strong> : Historique des modifications</li>
            <li><strong>Lifecycle policies</strong> : Transition vers glacier apr√®s 30 jours</li>
          </ul>
        </div>
      </div>
      
      <div>
        <h5 style="color:var(--text-hi);font-size:13px;margin-bottom:10px">Optimisations Performance</h5>
        <div style="background:var(--bg2);padding:12px;border-radius:6px">
          <ul style="font-size:11px;color:var(--text-lo)">
            <li><strong>Lazy loading</strong> : Chargement progressif des stories</li>
            <li><strong>Predictive pre-fetch</strong> : Pr√©-chargement bas√© sur les habitudes</li>
            <li><strong>Adaptive quality</strong> : Qualit√© adapt√©e √† la connexion</li>
            <li><strong>Cache Redis</strong> : Stories fr√©quemment consult√©es</li>
            <li><strong>Connection multiplexing</strong> : R√©utilisation des connexions HTTP/2</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê 09. FLUTTER CLIENT ‚Äî ARCHITECTURE MOBILE ‚ïê‚ïê‚ïê -->
<div class="sh fade-in"><span class="sh-n">09</span><h2>Flutter Client ‚Äî Architecture d'Application Mobile</h2><div class="sh-line"></div></div>
<p class="sh-sub">Application Flutter multiplateforme avec architecture clean, gestion d'√©tat moderne, et s√©curit√© renforc√©e.</p>

<div class="g2 fade-in">
  <div class="panel">
    <div class="panel-hd"><span class="ico">üì±</span><h4>Architecture Logicielle Flutter</h4></div>
    <div class="panel-bd">
      
      <div class="explanation">
        <h5>Clean Architecture avec Riverpod</h5>
        <p>Nous suivons les principes de Clean Architecture pour s√©parer clairement les responsabilit√©s et faciliter les tests et la maintenance.</p>
      </div>
      
      <div class="steps">
        <div class="step">
          <div class="sn" style="background:var(--sky)">1</div>
          <div class="sc">
            <div class="st">Domain Layer</div>
            <div class="sd">C≈ìur m√©tier de l'application, ind√©pendant de tout framework :</div>
            <ul style="font-size:11px;color:var(--text-lo);margin-top:5px">
              <li><strong>Entities</strong> : User, Message, Channel, Story</li>
              <li><strong>Use Cases</strong> : SendMessage, CreateStory, JoinChannel</li>
              <li><strong>Repository Interfaces</strong> : D√©finitions abstraites des datasources</li>
              <li>100% testable sans d√©pendances externes</li>
            </ul>
          </div>
        </div>
        
        <div class="step">
          <div class="sn" style="background:var(--sky)">2</div>
          <div class="sc">
            <div class="st">Data Layer</div>
            <div class="sd">Impl√©mentation concr√®te des repositories :</div>
            <ul style="font-size:11px;color:var(--text-lo);margin-top:5px">
              <li><strong>API Clients</strong> : Dio pour REST, WebSocket pour temps r√©el</li>
              <li><strong>Local Storage</strong> : Hive pour le cache local</li>
              <li><strong>Signal Protocol</strong> : Impl√©mentation Dart du chiffrement E2E</li>
              <li><strong>Model Mappers</strong> : Conversion API ‚Üí Domain entities</li>
            </ul>
          </div>
        </div>
        
        <div class="step">
          <div class="sn" style="background:var(--sky)">3</div>
          <div class="sc">
            <div class="st">Presentation Layer</div>
            <div class="sd">UI et gestion d'√©tat avec Riverpod :</div>
            <ul style="font-size:11px;color:var(--text-lo);margin-top:5px">
              <li><strong>State Providers</strong> : Gestion r√©active de l'√©tat applicatif</li>
              <li><strong>Widgets</strong> : Composants UI r√©utilisables</li>
              <li><strong>Navigation</strong> : Gestion des routes et deep links</li>
              <li><strong>Theming</strong> : Dark/light mode, internationalisation</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="panel">
    <div class="panel-hd"><span class="ico">üîí</span><h4>S√©curit√© sur Appareil Mobile</h4></div>
    <div class="panel-bd">
      
      <div class="explanation">
        <h5>Protection des Donn√©es Sensitives</h5>
        <p>Les appareils mobiles sont particuli√®rement vuln√©rables au vol et √† l'espionnage. Nous impl√©mentons plusieurs couches de s√©curit√©.</p>
      </div>
      
      <div style="background:rgba(248,113,113,.05);padding:16px;border-radius:8px;margin-top:15px">
        <h5 style="color:var(--red);font-size:13px;margin-bottom:10px">Stockage S√©curis√© des Cl√©s Signal</h5>
        <ul style="font-size:11px;color:var(--text-lo)">
          <li><strong>iOS Keychain</strong> : Stockage dans l'enclave s√©curis√©e</li>
          <li><strong>Android Keystore</strong> : Mat√©riel TPM quand disponible</li>
          <li><strong>Chiffrement au repos</strong> : AES-256 pour la base de donn√©es locale</li>
          <li><strong>Biometric lock</strong> : Option de verrouillage par empreinte/visage</li>
          <li><strong>Auto-lock</strong> : Verrouillage automatique apr√®s inactivit√©</li>
        </ul>
      </div>
      
      <div class="steps" style="margin-top:20px">
        <div class="step">
          <div class="sn" style="background:var(--red)">A</div>
          <div class="sc">
            <div class="st">Certificate Pinning</div>
            <div class="sd">Pr√©vention des attaques MITM :</div>
            <ul style="font-size:11px;color:var(--text-lo);margin-top:5px">
              <li>Pin du certificat serveur dans l'application</li>
              <li>Fallback vers Certificate Transparency logs</li>
              <li>D√©tection de changement de certificat suspect</li>
              <li>Alert utilisateur en cas de possible attaque</li>
            </ul>
          </div>
        </div>
        
        <div class="step">
          <div class="sn" style="background:var(--red)">B</div>
          <div class="sc">
            <div class="st">Runtime Protection</div>
            <div class="sd">D√©tection de manipulation :</div>
            <ul style="font-size:11px;color:var(--text-lo);margin-top:5px">
              <li><strong>Root/Jailbreak detection</strong> : Blocage sur appareils compromis</li>
              <li><strong>Debugger detection</strong> : Pr√©vention du reverse engineering</li>
              <li><strong>Code obfuscation</strong> : Rendre l'analyse statique difficile</li>
              <li><strong>Integrity checks</strong> : V√©rification de l'int√©grit√© de l'app</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê 10. OBSERVABILITY & MONITORING ‚ïê‚ïê‚ïê -->
<div class="sh fade-in"><span class="sh-n">10</span><h2>Observability ‚Äî Monitoring, Logging, Tracing</h2><div class="sh-line"></div></div>
<p class="sh-sub">Stack compl√®te d'observabilit√© avec m√©triques, logs, traces, et alerting automatis√©.</p>

<div class="mon-row fade-in">
  <div class="mon-card"><div class="mv" style="color:var(--accent)">100%</div><div class="ml">Traces Sampled</div></div>
  <div class="mon-card"><div class="mv" style="color:var(--pink)">&lt;2s</div><div class="ml">MTTD</div></div>
  <div class="mon-card"><div class="mv" style="color:var(--green)">&lt;5min</div><div class="ml">MTTR</div></div>
  <div class="mon-card"><div class="mv" style="color:var(--amber)">4x9s</div><div class="ml">Disponibilit√©</div></div>
  <div class="mon-card"><div class="mv" style="color:var(--sky)">24/7</div><div class="ml">On-call</div></div>
</div>

<div style="margin-top:16px"></div>

<div class="panel fade-in">
  <div class="panel-hd"><span class="ico">üìä</span><h4>Three Pillars of Observability</h4></div>
  <div class="panel-bd">
    
    <div class="g3" style="gap:16px">
      <div>
        <h5 style="color:var(--accent);font-size:13px;margin-bottom:10px">üìà M√©triques (Prometheus)</h5>
        <div style="background:var(--bg2);padding:12px;border-radius:6px;height:100%">
          <ul style="font-size:11px;color:var(--text-lo)">
            <li><strong>Business metrics</strong> : DAU, messages sent, stories created</li>
            <li><strong>Performance metrics</strong> : P95 latency, error rates, throughput</li>
            <li><strong>Infrastructure metrics</strong> : CPU, memory, network, disk</li>
            <li><strong>SLO tracking</strong> : Error budgets, burn rates</li>
            <li><strong>Custom exporters</strong> : Pour Kafka, Redis, MongoDB</li>
          </ul>
        </div>
      </div>
      
      <div>
        <h5 style="color:var(--purple);font-size:13px;margin-bottom:10px">üìù Logs (ELK Stack)</h5>
        <div style="background:var(--bg2);padding:12px;border-radius:6px;height:100%">
          <ul style="font-size:11px;color:var(--text-lo)">
            <li><strong>Structured logging</strong> : JSON format avec champs standardis√©s</li>
            <li><strong>Log aggregation</strong> : Centralisation dans Elasticsearch</li>
            <li><strong>Real-time search</strong> : Kibana pour l'analyse interactive</li>
            <li><strong>Retention policies</strong> : 30 jours hot, 1 an cold storage</li>
            <li><strong>Sensitive data masking</strong> : PII automatiquement masqu√©</li>
          </ul>
        </div>
      </div>
      
      <div>
        <h5 style="color:var(--green);font-size:13px;margin-bottom:10px">üîç Traces (Jaeger)</h5>
        <div style="background:var(--bg2);padding:12px;border-radius:6px;height:100%">
          <ul style="font-size:11px;color:var(--text-lo)">
            <li><strong>Distributed tracing</strong> : Suivi des requ√™tes √† travers les services</li>
            <li><strong>Automatic instrumentation</strong> : FastAPI, Kafka, Redis, MongoDB</li>
            <li><strong>Sampling strategies</strong> : Head-based sampling pour performance</li>
            <li><strong>Dependency mapping</strong> : Visualisation des appels inter-services</li>
            <li><strong>Latency analysis</strong> : Identification des bottlenecks</li>
          </ul>
        </div>
      </div>
    </div>
    
    <div class="explanation" style="margin-top:20px">
      <h5>Alerting Stratifi√©</h5>
      <p>Nous utilisons un syst√®me d'alerting √† trois niveaux pour √©viter l'alerte fatigue :</p>
      <table class="tbl" style="margin-top:10px">
        <thead><tr><th>Niveau</th><th>Exemple</th><th>Action</th><th>Channel</th></tr></thead>
        <tbody>
          <tr><td class="tn">Warning</td><td class="td">CPU > 70% pendant 5min</td><td class="td">Cr√©er ticket, notifier slack</td><td class="badge b-a">Slack #alerts</td></tr>
          <tr><td class="tn">Error</td><td class="td">Error rate API > 5%</td><td class="td">Page on-call engineer</td><td class="badge b-r">PagerDuty</td></tr>
          <tr><td class="tn">Critical</td><td class="td">Database down, SLO burn > 10%</td><td class="td">Page whole team, exec notification</td><td class="badge b-r">PagerDuty + SMS</td></tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê 11. D√âPLOIEMENT & INFRASTRUCTURE ‚ïê‚ïê‚ïê -->
<div class="sh fade-in"><span class="sh-n">11</span><h2>Infrastructure as Code ‚Äî DigitalOcean</h2><div class="sh-line"></div></div>
<p class="sh-sub">Infrastructure enti√®rement automatis√©e avec Terraform, d√©ploiement blue-green, et rollback automatique.</p>

<div class="do-ban fade-in">
  <div>
    <h3>üåä DigitalOcean Enterprise Stack</h3>
    <p>VPC isol√© ¬∑ Kubernetes manag√© ¬∑ Bases de donn√©es manag√©es ¬∑ Global Load Balancer</p>
  </div>
  <div class="do-specs">
    <div class="do-s"><div class="v">8</div><div class="l">Droplets</div></div>
    <div class="do-s"><div class="v">4</div><div class="l">MongoDB Clusters</div></div>
    <div class="do-s"><div class="v">6</div><div class="l">Redis Nodes</div></div>
    <div class="do-s"><div class="v">3</div><div class="l">Kafka Brokers</div></div>
    <div class="do-s"><div class="v">99.95%</div><div class="l">SLA</div></div>
  </div>
</div>

<div style="margin-top:16px"></div>

<div class="g2 fade-in">
  <div class="panel">
    <div class="panel-hd"><span class="ico">üèóÔ∏è</span><h4>Terraform Infrastructure</h4></div>
    <div class="panel-bd">
      
      <div class="explanation">
        <h5>Infrastructure D√©clarative</h5>
        <p>Toute l'infrastructure est d√©finie dans du code Terraform, permettant la reproductibilit√©, le versioning, et les revues de code.</p>
      </div>
      
      <div class="steps">
        <div class="step">
          <div class="sn" style="background:var(--sky)">1</div>
          <div class="sc">
            <div class="st">R√©seau & S√©curit√©</div>
            <div class="sd">D√©finition du VPC et des r√®gles de firewall :</div>
            <ul style="font-size:11px;color:var(--text-lo);margin-top:5px">
              <li>VPC 10.0.0.0/16 avec 8 sous-r√©seaux isol√©s</li>
              <li>Firewall rules explicites entre chaque subnet</li>
              <li>Security groups par type de service</li>
              <li>Load balancer avec SSL termination</li>
            </ul>
          </div>
        </div>
        
        <div class="step">
          <div class="sn" style="background:var(--sky)">2</div>
          <div class="sc">
            <div class="st">Bases de Donn√©es Manag√©es</div>
            <div class="sd">Services DigitalOcean manag√©s :</div>
            <ul style="font-size:11px;color:var(--text-lo);margin-top:5px">
              <li>MongoDB : 4 clusters (1 par service principal)</li>
              <li>Redis : Cluster 6 n≈ìuds avec persistence</li>
              <li>Kafka : 3 brokers avec encryption TLS</li>
              <li>Backups automatiques et point-in-time recovery</li>
            </ul>
          </div>
        </div>
        
        <div class="step">
          <div class="sn" style="background:var(--sky)">3</div>
          <div class="sc">
            <div class="st">Kubernetes Cluster</div>
            <div class="sd">DOKS (DigitalOcean Kubernetes) :</div>
            <ul style="font-size:11px;color:var(--text-lo);margin-top:5px">
              <li>Auto-scaling node pool (2-10 nodes)</li>
              <li>Horizontal Pod Autoscaler pour les microservices</li>
              <li>LoadBalancer avec IP fixe</li>
              <li>Cluster autoupgrade avec maintenance windows</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="panel">
    <div class="panel-hd"><span class="ico">üöÄ</span><h4>CI/CD Pipeline</h4></div>
    <div class="panel-bd">
      
      <div class="explanation">
        <h5>D√©ploiement Continue avec Qualit√©</h5>
        <p>Pipeline GitLab CI avec √©tapes de test, s√©curit√©, build, et d√©ploiement automatis√©.</p>
      </div>
      
      <div class="flow-diagram">
        <div class="flow-step">
          <div class="flow-number">1</div>
          <div class="flow-content">
            <div class="st">Code Quality & Security</div>
            <div class="sd">Sur chaque commit :</div>
            <ul style="font-size:11px;color:var(--text-lo);margin-top:5px">
              <li>Tests unitaires et d'int√©gration avec coverage > 80%</li>
              <li>Static analysis (SonarQube) pour la dette technique</li>
              <li>Security scanning (Trivy) pour les vuln√©rabilit√©s</li>
              <li>Dependency scanning pour les CVE</li>
            </ul>
          </div>
        </div>
        
        <div class="flow-arrow">‚Üì Merge sur main branch</div>
        
        <div class="flow-step">
          <div class="flow-number">2</div>
          <div class="flow-content">
            <div class="st">Build & Containerization</div>
            <div class="sd">Construction des images Docker :</div>
            <ul style="font-size:11px;color:var(--text-lo);margin-top:5px">
              <li>Multi-stage builds pour des images minimales</li>
              <li>Scan des images pour les vuln√©rabilit√©s</li>
              <li>Signature des images avec Cosign</li>
              <li>Push vers DigitalOcean Container Registry</li>
            </ul>
          </div>
        </div>
        
        <div class="flow-arrow">‚Üì D√©ploiement blue-green</div>
        
        <div class="flow-step">
          <div class="flow-number">3</div>
          <div class="flow-content">
            <div class="st">Deployment & Verification</div>
            <div class="sd">D√©ploiement avec v√©rification automatique :</div>
            <ul style="font-size:11px;color:var(--text-lo);margin-top:5px">
              <li>Blue-green deployment pour z√©ro downtime</li>
              <li>Health checks avec probes readiness/liveness</li>
              <li>Smoke tests automatis√©s post-deployment</li>
              <li>Rollback automatique si metrics d√©grad√©es</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- FOOTER -->
<div class="div"></div>
<div style="text-align:center;padding:24px 0 40px">
  <span style="font-family:'JetBrains Mono',monospace;font-size:10px;color:var(--text-lo)">
    UHURU v3.2 ‚Äî Architecture Enterprise Compl√®te ¬∑ 4 Microservices (User, Chat, Channel, Stories) ¬∑ 
    FastAPI ¬∑ WebSocket Scalable ¬∑ Signal Protocol E2E ¬∑ Kafka Exactly-Once ¬∑ Redis Cluster ¬∑ 
    MongoDB ReplicaSets ¬∑ DigitalOcean VPC ¬∑ Zero Trust Security ¬∑ Infrastructure as Code
  </span>
  <div style="margin-top:10px;font-size:9px;color:var(--text-lo)">
    Document d'Architecture Technique ‚Äî Version 3.2 ‚Äî ¬© 2024 UHURU Technologies ¬∑ Confidential
  </div>
</div>

</div><!-- /wrap -->

<script>
// Intersection Observer pour l'animation fade-in
const observer = new IntersectionObserver((entries) => {
  entries.forEach(e => {
    if (e.isIntersecting) {
      e.target.classList.add('visible');
    }
  });
}, { threshold: 0.1, rootMargin: '0px 0px -40px 0px' });

document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));
</script>
</body>
</html>